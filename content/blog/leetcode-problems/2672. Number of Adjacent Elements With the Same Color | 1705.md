---
title: "2672. Number of Adjacent Elements With the Same Color | 1705"
date: 2025-12-06
tags: ["array", "python"]
---

Straightforward coding.

```python
class Solution:
    def colorTheArray(self, n: int, queries: List[List[int]]) -> List[int]:
        # e.g. when changing index i to new:
        # check arr[i], store it old
        # check if arr[i-1] == old: pair -= 1
        # else  if arr[i-1] == new: pair += 1
        # check if arr[i+1] == old: pair -= 1
        # else  if arr[i+1] == new: pair += 1
        # also we don't care about uncolored.
        # also if old == new we just do nothing

        arr = [0] * n
        result = [0]

        for i, new_v in queries:
            pair_delta = 0
            old_v = arr[i]

            if old_v != new_v:
                if i - 1 > -1 and arr[i - 1] != 0:
                    if arr[i - 1] == old_v:
                        pair_delta -= 1
                    elif arr[i - 1] == new_v:
                        pair_delta += 1
                if i + 1 < n and arr[i + 1] != 0:
                    if arr[i + 1] == old_v:
                        pair_delta -= 1
                    elif arr[i + 1] == new_v:
                        pair_delta += 1
                arr[i] = new_v

            result.append(result[-1] + pair_delta)

        return result[1:]
```