---
title: "2140. Solving Questions With Brainpower | 1709"
date: 2025-12-27
tags: ["array", "dynamic-programming", "python"]
---

I probably should do more DP. My intuition is close and I know I need dp to pass.

```python
class Solution:
    def mostPoints(self, questions: List[List[int]]) -> int:
        # intuition: backtracking
        # backtrack alone TLEs - is it O(2**n) or O(n**2)?
        # lru_cache(None) MLEs
        # integrate DP
        # state = ?

        n = len(questions)

        def bt(pts: int, idx: int) -> int:
            if idx > n - 1:
                return pts

            return max(
                bt(pts + questions[idx][0], idx + questions[idx][1] + 1),
                bt(pts, idx + 1),
            )

        return bt(0, 0)
```

The state should be "the best score since idx".

```python
class Solution:
    def mostPoints(self, questions: List[List[int]]) -> int:
        # intuition: backtracking + memo
        # bt(pts so far, idx)
        # backtrack alone TLEs - is it O(2**n) or O(n**2)?
        # lru_cache(None) MLEs
        # integrate DP
        # state = "maximum points earnable starting from idx"

        n = len(questions)

        @lru_cache(None)
        def bt(idx: int) -> int:
            if idx > n - 1:
                return 0

            points, brainpower = questions[idx]

            return max(points + bt(idx + brainpower + 1), bt(idx + 1))

        return bt(0)
```