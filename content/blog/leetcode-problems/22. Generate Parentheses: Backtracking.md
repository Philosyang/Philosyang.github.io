---
title: "22. Generate Parentheses: Backtracking"
date: 2025-07-23
tags: ["algorithm", "backtracking", "python"]
---

ref: https://neetcode.io/solutions/generate-parentheses

### general idea
1. we can add `(` only if `opened_n < n`
2. we can add `)` only if `closed_n < closed_n`
3. output is valid iff `opened_n == closed_n == n`

```python
class Solution:
    def generateParenthesis(self, n: int) -> List[str]:
        stack = []
        result = []

        def bt(opened_n, closed_n):
            if opened_n == closed_n == n:
                result.append("".join(stack))
                return

            if opened_n < n:
                stack.append("(")
                bt(opened_n + 1, closed_n)
                stack.pop()

            if closed_n < opened_n:
                stack.append(")")
                bt(opened_n, closed_n + 1)
                stack.pop()

        bt(0, 0)

        return result
```

I need a write on mastering backtracking.