---
title: "32. Longest Valid Parentheses"
date: 2026-01-05
tags: ["string", "python"]
---

```python
class Solution:
    def longestValidParentheses(self, s: str) -> int:

        lefts = rights = 0
        longest = 0

        for ch in s:
            if ch == "(":
                lefts += 1
            else:
                rights += 1
            if lefts == rights:
                longest = max(longest, 2 * rights)
            elif lefts < rights:
                lefts = rights = 0

        lefts = rights = 0

        for ch in s[::-1]:
            if ch == "(":
                lefts += 1
            else:
                rights += 1
            if lefts == rights:
                longest = max(longest, 2 * rights)
            elif lefts > rights:
                lefts = rights = 0

        return longest
```